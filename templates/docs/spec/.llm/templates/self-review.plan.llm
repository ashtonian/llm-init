# Plan: System Self-Review

> Use this template to review and improve the Claude Code orchestration system itself —
> the rules, skills, agents, templates, and tooling that guide agent behavior.
> This is how the system gets better over time.

## Metadata

| Field | Value |
|-------|-------|
| **Created** | {timestamp} |
| **Agent ID** | {agent-id} |
| **Status** | planning |
| **Priority** | {P1 — run periodically or when issues are noticed} |
| **Trigger** | {What prompted this review: routine, error discovered, new capability needed} |

---

## Objective

Review the Claude Code orchestration system for coherence, accuracy, completeness, and effectiveness. Fix issues and improve the system so future agents work more efficiently.

---

## Review Checklist

### 1. Cross-Reference Integrity

Verify all internal links and file references are valid:

- [ ] All file paths in `CLAUDE.md` point to files that exist
- [ ] All file paths in `.claude/rules/*.md` reference only files that exist
- [ ] All skills in `.claude/skills/*/` have a valid `SKILL.md`
- [ ] All agents in `.claude/agents/*/` have a valid agent definition
- [ ] All plan templates reference only rules/specs that exist (or clearly mark optional ones)
- [ ] `setup.sh` copies every file that exists in `templates/`
- [ ] `.mcp.json` MCP server configurations are valid and functional
- [ ] `CLAUDE.md` skills table lists all skills that exist in `.claude/skills/`

### 2. Rules Consistency

Verify rules are coherent and non-contradictory:

- [ ] `.claude/rules/agent-guide.md` quality gate commands are valid for the project
- [ ] `.claude/rules/spec-first.md` protocol is consistent with plan templates
- [ ] Pattern rules (go-patterns, typescript-patterns, etc.) don't contradict each other
- [ ] Cross-cutting rules (security, performance, observability) are compatible
- [ ] Quality gate definitions are consistent across rules and plan templates
- [ ] Terminology is consistent ("quality gates" not "quality checks", "rules" not "specs" for `.claude/rules/`)

### 3. Workflow Consistency

Verify the same process is described the same way everywhere:

- [ ] Review loop steps (READ->ASSESS->IMPLEMENT->VERIFY->RECORD->COMMIT->NEXT) match across review.plan.llm and CLAUDE.md
- [ ] User feedback checkpoints are present in all plan templates that need them
- [ ] Execution modes (Parallel, Interactive, Quick, Idea Pipeline) are consistent across CLAUDE.md and skills

### 4. Placeholder Consistency

- [ ] All templates use `{{PROJECT_NAME}}` and `{{PROJECT_MODULE}}` format
- [ ] No hardcoded project names, paths, or credentials
- [ ] `setup.sh` `copy_template` function handles all placeholder replacement

### 5. Skills & Agents Completeness

- [ ] Each skill in `.claude/skills/` has a self-contained `SKILL.md` with instructions
- [ ] Each agent in `.claude/agents/` has clear scope and responsibilities
- [ ] CLAUDE.md skills table matches the actual skills available on disk
- [ ] Skills don't duplicate functionality (no overlapping skills)
- [ ] Agent definitions reference valid rules and skills

### 6. Context Efficiency

- [ ] CLAUDE.md is concise (<80 lines) -- it loads every session
- [ ] Rules in `.claude/rules/` are auto-loaded by path, so each is focused and non-redundant
- [ ] No significant content duplication between rules files
- [ ] Templates don't include unnecessary boilerplate
- [ ] Plan templates are appropriately sized for their purpose

### 7. Permission & Security Review

- [ ] `.claude/settings.json` allow list covers all needed operations
- [ ] `.claude/settings.json` deny list blocks all dangerous patterns
- [ ] No credentials or secrets in any template file
- [ ] MCP server configuration in `.mcp.json` is secure

### 8. Effectiveness Assessment

Based on PROGRESS.md learnings:

- [ ] Are agents successfully following the execution modes?
- [ ] Are agents finding the right rules for their tasks?
- [ ] Are there repeated failures or confusion patterns?
- [ ] Is PROGRESS.md accumulating useful knowledge?
- [ ] Are plan templates being used effectively?
- [ ] Are skills and agents properly scoped (not too broad, not too narrow)?

---

## Implementation Steps

### Phase 1: Audit
- [ ] Run through the full review checklist above
- [ ] Document all issues found in the Issues section below

### Phase 2: Fix
- [ ] Fix cross-reference issues in rules, skills, and plan templates
- [ ] Fix workflow inconsistencies
- [ ] Update CLAUDE.md skills table if out of sync
- [ ] Fix any other issues found

### Phase 3: Improve
- [ ] Simplify any overly complex rules or templates
- [ ] Consolidate duplicated content across rules
- [ ] Update templates based on effectiveness assessment
- [ ] Record improvements in PROGRESS.md

---

## Issues Found

| Issue | File | Severity | Status |
|-------|------|----------|--------|
| {description} | {file path} | {low/medium/high} | {found/fixed} |

---

## Improvements Made

- {What was changed and why}

---

## Decisions Made

### Decision 1: {Topic}
- **Choice**: {decision}
- **Rationale**: {why}

---

## Progress Log

### {timestamp}
- Started: System self-review
- Trigger: {what prompted this}

---

## Completion

- [ ] All checklist items reviewed
- [ ] All high/medium issues fixed
- [ ] CLAUDE.md skills table verified
- [ ] PROGRESS.md updated with learnings
- [ ] Rules and skills structure verified
