# Plan: Fix {Bug Description}

## Metadata

| Field | Value |
|-------|-------|
| **Created** | {timestamp} |
| **Agent ID** | {agent-id} |
| **Status** | planning |
| **Priority** | {high if production issue} |
| **Issue** | {link or reference if available} |

---

## Objective

Fix the bug where {describe the incorrect behavior} so that {describe the correct behavior}.

---

## Bug Analysis

### Symptoms

- {What is observed}
- {Error messages if any}
- {When/how it occurs}

### Root Cause

{Description of why this happens - fill in after investigation}

### Affected Components

- [ ] `path/to/component` - {how it's affected}

---

## Prerequisites

### Specs to Reference

- [ ] {Relevant spec for the affected component}

### Reproduction Steps

1. {Step 1}
2. {Step 2}
3. Expected: {what should happen}
4. Actual: {what happens instead}

---

## Implementation Steps

### Phase 1: Investigation

- [ ] **Step 1.1**: Reproduce the issue locally
- [ ] **Step 1.2**: Identify root cause
- [ ] **Step 1.3**: Identify all affected code paths

### Phase 2: Fix

- [ ] **Step 2.1**: Implement fix
  - Files: `{path}`

- [ ] **Step 2.2**: Add regression test
  - Files: `{path}_test`

### Phase 3: Verification

- [ ] **Step 3.1**: Verify fix resolves the issue
- [ ] **Step 3.2**: Run full test suite
- [ ] **Step 3.3**: Check for side effects

---

## Files

### Files to Modify

| File | Change Type | Status |
|------|-------------|--------|
| `{path}` | Fix bug | Pending |

### Files to Create

| File | Purpose | Status |
|------|---------|--------|
| `{path}_test` | Regression test | Pending |

---

## Progress Log

### {timestamp}

- Started: Investigation
- Status: analyzing

---

## Verification

- [ ] Bug no longer reproducible
- [ ] Regression test added
- [ ] All existing tests still pass
- [ ] No new issues introduced
